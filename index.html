<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COVID-19 Statistics</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
</head>
<body class="purple lighten-4">
    <div class="container">
        <h1 class="red-text darken-2">COVID-19 Statistics</h1>
        <div class="card-panel cyan accent-1">
            <h2>Global Cases</h2>
            <p class="flow-text">Total Confirmed: <span id="globalConfirmed"></span></p>
            <p class="flow-text">Total Deaths: <span id="globalDeaths"></span></p>
            <p class="flow-text">Total Recovered: <span id="globalRecovered"></span></p>
            <button type="button" onclick="fetchCoronaGlobal()" class="waves-effect waves-light btn-small purple"><i class="material-icons"></i>Check Now</button>
        </div>
        <div class="card-panel orange accent-1">
            <h1>India Cases</h1>
            <p class="flow-text">Total Confirmed: <span id="indiaConfirmed"></span></p>
            <p class="flow-text">Total Deaths: <span id="indiaDeaths"></span></p>
            <p class="flow-text">Total Recovered: <span id="indiaRecovered"></span></p>
            <button type="button" onclick="fetchCoronaIndia()" class="waves-effect waves-light btn-small purple"><i class="material-icons"></i>Check Now</button>
        </div>
        <p>Made using Fetch API from <a href="https://covid19api.com" target=_blank>covid19api.com</a></a></p>
        <p>Developed by Shivank Sriraj.</p>
        <hr>
        <p>Current Date & Time: <span id="time"></span></p>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script>
        async function fetchCoronaGlobal() {
            let fetchString = await fetch("https://api.covid19api.com/summary");
            let fetchData = await fetchString.json();
            document.getElementById("globalConfirmed").innerHTML = fetchData.Global.TotalConfirmed;
            document.getElementById("globalDeaths").innerHTML = fetchData.Global.TotalDeaths;
            document.getElementById("globalRecovered").innerHTML = fetchData.Global.TotalRecovered;
        }
        async function fetchCoronaIndia() {
            let fetchString = await fetch("https://api.covid19api.com/summary");
            let fetchData = await fetchString.json();
            document.getElementById("indiaConfirmed").innerHTML = fetchData.Countries[76].TotalConfirmed;
            document.getElementById("indiaDeaths").innerHTML = fetchData.Countries[76].TotalDeaths;
            document.getElementById("indiaRecovered").innerHTML = fetchData.Countries[76].TotalRecovered;
        }
        function readTime() {
            let fetchedTime = new Date();
            document.getElementById("time").innerHTML = fetchedTime;
        }
        function refresh() {
            setInterval(readTime, 1000);
        }
        refresh();
    </script>
</body>
</html>